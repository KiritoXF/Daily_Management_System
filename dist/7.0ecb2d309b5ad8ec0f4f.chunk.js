webpackJsonp([7],{157:function(e,t,a){var r=a(5)(a(167),a(189),null,null);r.options.__file="d:\\Apache24\\htdocs\\iview-project-3.0\\src\\views\\addDaily.vue",r.esModule&&Object.keys(r.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] addDaily.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},167:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mounted:function(){this.formValidate=this.$route.params.info},data:function(){return{loading:!1,formValidate:{userName:"",targetDate:"",status:"",assign:"",projectName:"",projectAssign:"",extendedField:"",firstLevelModule:"",secondLevelModule:"",firstLevelActivity:"",secondLevelActivity:"",normalWork:0,overtimeWork:0,writeDate:"",workResultType:"",workResult:"",note:""},ruleValidate:{assign:[{required:!0,message:"任务不能为空",trigger:"blur"},{type:"string",max:20,message:"任务不得超过20个汉字",trigger:"blur"}],targetDate:[{required:!0,type:"date",message:"日期不能为空",trigger:"blur"}],projectName:[{required:!0,message:"项目名称不能为空",trigger:"blur"}],projectAssign:[{required:!0,message:"项目任务不能为空",trigger:"blur"}],firstLevelActivity:[{required:!0,message:"活动类型不能为空",trigger:"blur"}],firstLevelModule:[{required:!0,message:"项目模块不能为空",trigger:"blur"}]}}},methods:{save:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(e){t.$Message.success("Success!"),t.loading=!0;var r=a.formValidate,o=new Date,l=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate();null!=r.id?a.updateDailyInfo([r.userName||"yh",r.date.getFullYear()+"-"+(r.date.getMonth()+1)+"-"+r.date.getDate(),r.assign,r.normalWork,r.overtimeWork,r.projectName,r.extendedField,r.projectAssign,r.firstLevelActivity,r.secondLevelActivity,r.firstLevelModule,r.secondLevelModule,r.workResultType,r.workResult,r.note||"",l,r.id]):a.addDailyInfo([r.userName,r.date.getFullYear()+"-"+(r.date.getMonth()+1)+"-"+r.date.getDate(),r.assign,r.normalWork,r.overtimeWork,r.projectName,r.extendedField,r.projectAssign,r.firstLevelActivity,r.secondLevelActivity,r.firstLevelModule,r.secondLevelModule,r.workResultType,r.workResult,r.note,l])}else t.$Message.error("Fail!")})},addDailyInfo:function(e){var t=this;this.$http.post("/api/daily/addDailyInfo",{infos:e},{}).then(function(e){console.log(e),t.goBack()})},updateDailyInfo:function(e){var t=this;this.$http.put("/api/daily/updateDailyInfo",{infos:e},{}).then(function(e){console.log(e),t.goBack()})},goBack:function(){this.$router.push({path:"/dailylist"})}}}},189:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"500px",margin:"0 auto"}},[a("Form",{ref:"this.formValidate",staticStyle:{margin:"0"},attrs:{model:this.formValidate,rules:e.ruleValidate,"label-width":100}},[a("FormItem",{attrs:{label:"用户名"}},[a("Input",{attrs:{placeholder:"Enter something..."},model:{value:this.formValidate.userName,callback:function(t){e.$set(this.formValidate,"userName",t)},expression:"this.formValidate.userName"}})],1),e._v(" "),a("FormItem",{attrs:{label:"日报日期",prop:"targetDate"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"Select date"},model:{value:this.formValidate.targetDate,callback:function(t){e.$set(this.formValidate,"targetDate",t)},expression:"this.formValidate.targetDate"}})],1),e._v(" "),a("FormItem",{attrs:{label:"任务",prop:"assign"}},[a("Input",{attrs:{placeholder:"Enter something..."},model:{value:this.formValidate.assign,callback:function(t){e.$set(this.formValidate,"assign",t)},expression:"this.formValidate.assign"}})],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"正常工作量(h)",prop:"normalWork"}},[a("Input",{attrs:{placeholder:"Enter something..."},model:{value:this.formValidate.normalWork,callback:function(t){e.$set(this.formValidate,"normalWork",t)},expression:"this.formValidate.normalWork"}})],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"加班工作量(h)",prop:"overtimeWork"}},[a("Input",{attrs:{placeholder:"Enter something..."},model:{value:this.formValidate.overtimeWork,callback:function(t){e.$set(this.formValidate,"overtimeWork",t)},expression:"this.formValidate.overtimeWork"}})],1)],1)],1),e._v(" "),a("FormItem",{attrs:{label:"项目名称",prop:"projectName"}},[a("Select",{attrs:{placeholder:"-- 请选择 --"},model:{value:this.formValidate.projectName,callback:function(t){e.$set(this.formValidate,"projectName",t)},expression:"this.formValidate.projectName"}},[a("Option",{attrs:{value:"管理"}},[e._v("管理")]),e._v(" "),a("Option",{attrs:{value:"2019"}},[e._v("2019")]),e._v(" "),a("Option",{attrs:{value:"test"}},[e._v("test")])],1)],1),e._v(" "),a("FormItem",{attrs:{label:"拓展字段",prop:"extendedField"}},[a("Input",{attrs:{placeholder:"Enter something..."},model:{value:this.formValidate.extendedField,callback:function(t){e.$set(this.formValidate,"extendedField",t)},expression:"this.formValidate.extendedField"}})],1),e._v(" "),a("FormItem",{attrs:{label:"项目任务",prop:"projectAssign"}},[a("Select",{attrs:{placeholder:"-- 请选择 --"},model:{value:this.formValidate.projectAssign,callback:function(t){e.$set(this.formValidate,"projectAssign",t)},expression:"this.formValidate.projectAssign"}},[a("Option",{attrs:{value:"启动"}},[e._v("启动")])],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"活动类型",prop:"firstLevelActivity"}},[a("Select",{attrs:{placeholder:"-- 请选择 --"},model:{value:this.formValidate.firstLevelActivity,callback:function(t){e.$set(this.formValidate,"firstLevelActivity",t)},expression:"this.formValidate.firstLevelActivity"}},[a("Option",{attrs:{value:"详细设计"}},[e._v("详细设计")]),e._v(" "),a("Option",{attrs:{value:"编码"}},[e._v("编码")])],1)],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"secondLevelActivity"}},[a("Select",{attrs:{placeholder:"-- 请选择 --"},model:{value:this.formValidate.secondLevelActivity,callback:function(t){e.$set(this.formValidate,"secondLevelActivity",t)},expression:"this.formValidate.secondLevelActivity"}},[a("Option",{attrs:{value:"详细设计实施"}},[e._v("详细设计实施")]),e._v(" "),a("Option",{attrs:{value:"编码"}},[e._v("编码")])],1)],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"项目模块",prop:"firstLevelModule"}},[a("Select",{attrs:{placeholder:"-- 请选择 --"},model:{value:this.formValidate.firstLevelModule,callback:function(t){e.$set(this.formValidate,"firstLevelModule",t)},expression:"this.formValidate.firstLevelModule"}},[a("Option",{attrs:{value:"启动"}},[e._v("启动")])],1)],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{prop:"secondLevelModule"}},[a("Select",{attrs:{placeholder:"-- 请选择 --"},model:{value:this.formValidate.secondLevelModule,callback:function(t){e.$set(this.formValidate,"secondLevelModule",t)},expression:"this.formValidate.secondLevelModule"}})],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"工作成果",prop:"workResults"}},[a("Select",{attrs:{placeholder:"-- 请选择 --"},model:{value:this.formValidate.workResultType,callback:function(t){e.$set(this.formValidate,"workResultType",t)},expression:"this.formValidate.workResultType"}},[a("Option",{attrs:{value:"代码行"}},[e._v("代码行")])],1)],1)],1),e._v(" "),a("Col",{attrs:{span:"12"}},[a("Input",{attrs:{placeholder:"Enter something..."},model:{value:this.formValidate.workResult,callback:function(t){e.$set(this.formValidate,"workResult",t)},expression:"this.formValidate.workResult"}})],1)],1),e._v(" "),a("FormItem",{attrs:{label:"备注",prop:"note"}},[a("Input",{attrs:{type:"textarea",rows:4,placeholder:"Enter something..."},model:{value:this.formValidate.note,callback:function(t){e.$set(this.formValidate,"note",t)},expression:"this.formValidate.note"}})],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){e.save("this.formValidate")}}},[e.loading?a("span",[e._v("提交中...请稍后")]):a("span",[e._v("提交")])]),e._v(" "),a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary"},on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});